<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>High-Frequency Hearing Loss Prediction</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- 添加Iconify库 -->
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <style>
        /* 设置基本变量 */
        :root {
            --box-sizing: border-box;
            --font-family: 'Poppins', 'Noto Sans SC', sans-serif;
            --text-color: #2D3748;
            /* 颜色变量 */
            --primary-color: #4A90E2;
            --secondary-color: #F7B733;
            --text-primary: #2D3748;
            --text-secondary: #4A5568;
            --background-primary: #F8FAFC;
            --background-secondary: #FFF;
            /* 布局变量 */
            --border-radius: 12px;
            --box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
            /* 文本变量 */
            --font-size-base: 16px;
            --line-height-base: 1.5;
            /* 动画变量 */
            --transition: all 0.3s ease;
            --primary-dark: #2c5c9e; /* 添加深色主题色变量 */
            --primary-light: #6eabef; /* 添加浅色主题色变量 */
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background: linear-gradient(135deg, #f8fafc, #f1f5f9);
            position: relative;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
            font-family: var(--font-family);
            overflow-x: hidden;
            min-height: 100vh;
            width: 100%;
            color: var(--text-primary);
        }

        /* 添加粒子背景画布 */
        #particles-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.8;
            display: block;
            pointer-events: none;
        }
        
        /* 创建动态波浪背景 */
        .wave-bg {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 15vh;
            z-index: -1;
            overflow: hidden;
            opacity: 0.4;
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: 100% 100%;
            background-repeat: no-repeat;
            background-position: 0 bottom;
            transform-origin: center bottom;
        }

        .wave1 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120' preserveAspectRatio='none'%3E%3Cpath d='M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z' opacity='.15' fill='%234A90E2'/%3E%3Cpath d='M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z' opacity='.2' fill='%23F7B733'/%3E%3Cpath d='M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z' fill='%234A90E2' opacity='.1'/%3E%3C/svg%3E");
            animation: wave 20s linear infinite;
        }

        .wave2 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120' preserveAspectRatio='none'%3E%3Cpath d='M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z' fill='%23F7B733' opacity='.1'/%3E%3C/svg%3E");
            animation: wave 15s linear infinite;
            animation-delay: -5s;
        }

        .wave3 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120' preserveAspectRatio='none'%3E%3Cpath d='M0,0V7.23C0,65.52,268.63,112.77,600,112.77S1200,65.52,1200,7.23V0Z' fill='%234A90E2' opacity='.07'/%3E%3C/svg%3E");
            animation: wave 30s linear infinite;
            animation-delay: -2s;
        }

        @keyframes wave {
            0% {
                transform: translateX(0) translateZ(0) scaleY(1);
            }
            50% {
                transform: translateX(-20%) translateZ(0) scaleY(0.9); /* 减小变化幅度 */
            }
            100% {
                transform: translateX(-40%) translateZ(0) scaleY(1); /* 减小变化幅度 */
            }
        }
        
        /* 创建科技风格背景 */
        body::before {
            content: "";
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 30% 40%, rgba(110, 171, 239, 0.1), transparent 40%),
                radial-gradient(circle at 70% 30%, rgba(74, 144, 226, 0.08), transparent 35%),
                radial-gradient(circle at 50% 80%, rgba(126, 87, 194, 0.05), transparent 45%),
                radial-gradient(circle at 20% 70%, rgba(86, 204, 242, 0.08), transparent 40%);
            animation: gradientFlow 25s ease-in-out infinite alternate;
            z-index: -2;
        }

        body::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            z-index: -1;
        }
        
        @keyframes gradientFlow {
            0% {
                transform: rotate(0deg) scale(1);
                opacity: 0.7;
            }
            25% {
                opacity: 0.8;
            }
            50% {
                transform: rotate(3deg) scale(1.05);
                opacity: 0.9;
            }
            75% {
                opacity: 0.8;
            }
            100% {
                transform: rotate(-3deg) scale(1.1);
                opacity: 0.7;
            }
        }

        /* 添加听力图标的网格背景 */
        body::after {
            content: '';
            position: fixed;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 24 24' stroke-width='0.3' stroke='%234A90E2' fill='none'%3E%3Cpath d='M19 14c1.49-2.4 3-5.4 3-9a7 7 0 0 0-14 0c0 3.5 1.51 6.6 3 9'/%3E%3Cpath d='M5 21l2-2'/%3E%3Cpath d='M8 21l2-2'/%3E%3Cpath d='M11 16c-.66 0-1.34-.37-2-1.08-.66.73-1.34 1.08-2 1.08'/%3E%3C/svg%3E");
            background-size: 120px;
            background-repeat: space;
            opacity: 0.03;
            z-index: -1;
            pointer-events: none; /* 确保不会干扰交互 */
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            background-color: transparent; /* 确保背景是透明的 */
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        /* 听力图标装饰 */
        .ear-icon-decoration {
            position: absolute;
            width: 300px;
            height: 300px;
            bottom: -100px;
            right: -100px;
            opacity: 0.03;
            z-index: 0;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%234A90E2' stroke-width='1' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9s-2 3 2 9c0 0 2 2 6 2s5.5-3 5.5-3c.5-1.5 2.5-5.5-1-9-.5-1-1.5-2-3-2s-4 1-6 5c-.5.5-2 1.5-2 3 0 1.5 2 3 2 3'/%3E%3Cpath d='M16 9c.5 0 1 .5 1 1.5 0 .5 0 1-.5 1.5'/%3E%3Cpath d='M12 6c1.5 0 3 1 3 3 0 .5 0 1-.5 1.5'/%3E%3Cpath d='M20 14c1.49-2.4 3-5.4 3-9a7 7 0 0 0-14 0c0 3.5 1.51 6.6 3 9'/%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            transform: rotate(15deg);
            pointer-events: none;
            background-color: transparent; /* 确保背景是透明的 */
        }

        /* 大脑图标装饰 */
        .brain-icon-decoration {
            position: absolute;
            width: 300px;
            height: 300px;
            top: -120px;
            left: -120px;
            opacity: 0.03;
            z-index: 0;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23F7B733' stroke-width='1' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M15.5 13a5 5 0 1 0-5.5 5'/%3E%3Cpath d='M22 9l-4 1'/%3E%3Cpath d='M13 3l1 4'/%3E%3Cpath d='M10 3l-1 4'/%3E%3Cpath d='M2 9l4 1'/%3E%3Cpath d='M13.5 13a5 5 0 0 1-.5-1'/%3E%3Cpath d='M17 17l-2.5-1.5'/%3E%3Cpath d='M3 15l3-2'/%3E%3Cpath d='M20 21l-3-3'/%3E%3Cpath d='M7 21l3-3'/%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            transform: rotate(15deg);
            pointer-events: none;
        }
		        .header {
            text-align: center;
            margin-bottom: 50px;
            padding: 60px 40px 40px;
            background: linear-gradient(135deg, #EBF4FF 0%, #FFFFFF 100%);
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            position: relative;
            overflow: hidden;
        }

        /* 添加听力波形装饰 */
        .header::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320' fill='%23ffffff'%3E%3Cpath d='M0,256L48,229.3C96,203,192,149,288,149.3C384,149,480,203,576,213.3C672,224,768,192,864,165.3C960,139,1056,117,1152,122.7C1248,128,1344,160,1392,176L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: cover;
            opacity: 1;
            z-index: 1;
        }

        /* 听力波形动画 */
        .sound-wave {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 60px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            z-index: 2;
        }

        .sound-wave span {
            display: inline-block;
            width: 3px;
            margin: 0 2px;
            background: rgba(74, 144, 226, 0.2);
            border-radius: 50px;
            animation: sound-wave-anim 1.2s infinite ease-in-out;
        }

        .sound-wave span:nth-child(1) { height: 10px; animation-delay: 0.1s; }
        .sound-wave span:nth-child(2) { height: 15px; animation-delay: 0.2s; }
        .sound-wave span:nth-child(3) { height: 25px; animation-delay: 0.3s; }
        .sound-wave span:nth-child(4) { height: 35px; animation-delay: 0.4s; }
        .sound-wave span:nth-child(5) { height: 40px; animation-delay: 0.5s; }
        .sound-wave span:nth-child(6) { height: 30px; animation-delay: 0.6s; }
        .sound-wave span:nth-child(7) { height: 20px; animation-delay: 0.7s; }
        .sound-wave span:nth-child(8) { height: 15px; animation-delay: 0.8s; }
        .sound-wave span:nth-child(9) { height: 10px; animation-delay: 0.9s; }

        @keyframes sound-wave-anim {
            0%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(1.5); background: rgba(74, 144, 226, 0.5); }
        }

        /* 耳朵听力动画 */
        .header-icon-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
        }

        .header-icon {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            font-size: 56px;
            color: var(--primary-color); /* 修改为蓝色 */
            z-index: 2;
            animation: iconPulse 2s ease-in-out infinite, iconRotate 6s linear infinite;
        }

        @keyframes iconPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
        }

        @keyframes iconRotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            25% { transform: translate(-50%, -50%) rotate(5deg); }
            50% { transform: translate(-50%, -50%) rotate(0deg); }
            75% { transform: translate(-50%, -50%) rotate(-5deg); }
            100% { transform: translate(-50%, -50%) rotate(0deg); }
        }

        /* 听力波纹动画 */
        .pulse-rings {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
        }

        .pulse-ring {
            position: absolute;
            left: 50%;
            top: 50%;
            border-radius: 50%;
            border: 2px solid var(--primary-color);
            animation: pulse-ring 3s linear infinite;
            opacity: 0;
        }

        .pulse-ring:nth-child(1) {
            width: 40px;
            height: 40px;
            animation-delay: 0s;
        }

        .pulse-ring:nth-child(2) {
            width: 60px;
            height: 60px;
            animation-delay: 0.6s;
        }

        .pulse-ring:nth-child(3) {
            width: 80px;
            height: 80px;
            animation-delay: 1.2s;
        }

        .pulse-ring:nth-child(4) {
            width: 100px;
            height: 100px;
            animation-delay: 1.8s;
        }

        @keyframes pulse-ring {
            0% {
                transform: translate(-50%, -50%) scale(0.3);
                opacity: 0.8;
            }
            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0;
            }
        }

        /* 听力损失图表装饰 - 改进版 */
        .hearing-chart {
            position: absolute;
            bottom: 40px;
            left: 40px;
            width: 120px;
            height: 70px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            overflow: hidden;
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            padding: 8px;
            z-index: 10;
        }

        .chart-bar {
            flex: 1;
            margin: 0 2px;
            background: linear-gradient(to top, var(--primary-light), var(--primary-color));
            border-radius: 4px 4px 0 0;
            animation: chart-bar-anim 4s ease-in-out infinite alternate;
        }

        .chart-bar:nth-child(1) { height: 30%; animation-delay: 0.0s; }
        .chart-bar:nth-child(2) { height: 60%; animation-delay: 0.2s; }
        .chart-bar:nth-child(3) { height: 40%; animation-delay: 0.4s; }
        .chart-bar:nth-child(4) { height: 70%; animation-delay: 0.6s; }
        .chart-bar:nth-child(5) { height: 30%; animation-delay: 0.8s; }
        .chart-bar:nth-child(6) { height: 20%; animation-delay: 1.0s; background: linear-gradient(to top, #FF6B6B, #FF8E8E); }
        .chart-bar:nth-child(7) { height: 10%; animation-delay: 1.2s; background: linear-gradient(to top, #FF6B6B, #FF8E8E); }

        @keyframes chart-bar-anim {
            0% { height: var(--height); opacity: 0.7; }
            50% { height: calc(var(--height) + 20%); opacity: 1; }
            100% { height: var(--height); opacity: 0.7; }
        }
		        /* 调整标题样式以确保可见性 */
		        .header h1 {
            color: var(--primary-color);
            font-size: 38px;
            font-weight: 800;
            position: relative;
            display: inline-block;
            z-index: 10; /* 确保比所有元素层级高 */
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* 增加文字阴影提高对比度 */
            margin: 0 0 25px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.9); /* 添加白色背景增强可见性 */
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        /* 移除之前的渐变效果，使用纯色提高可读性 */
        .header h1 {
            background-color: rgba(255, 255, 255, 0.9);
            -webkit-text-fill-color: var(--primary-color);
        }

        /* 纯粹的打字机效果，无抖动 */
        .header h1 span {
            display: inline-block;
            opacity: 0; /* 初始为不可见 */
            animation: simpletype 0.1s forwards;
            font-weight: 700;
        }

        /* 添加初始状态，确保所有字母开始都是不可见的 */
        .header h1 span {
            opacity: 0;
        }

        /* 简单的打字机动画，只有出现效果，无额外动作 */
        @keyframes simpletype {
            to {
                opacity: 1;
            }
        }

        /* 增加延迟到38个字符以确保涵盖所有字母 */
        .header h1 span:nth-child(1) { animation-delay: 0.1s; }
        .header h1 span:nth-child(2) { animation-delay: 0.15s; }
        .header h1 span:nth-child(3) { animation-delay: 0.2s; }
        .header h1 span:nth-child(4) { animation-delay: 0.25s; }
        .header h1 span:nth-child(5) { animation-delay: 0.3s; }
        .header h1 span:nth-child(6) { animation-delay: 0.35s; }
        .header h1 span:nth-child(7) { animation-delay: 0.4s; }
        .header h1 span:nth-child(8) { animation-delay: 0.45s; }
        .header h1 span:nth-child(9) { animation-delay: 0.5s; }
        .header h1 span:nth-child(10) { animation-delay: 0.55s; }
        .header h1 span:nth-child(11) { animation-delay: 0.6s; }
        .header h1 span:nth-child(12) { animation-delay: 0.65s; }
        .header h1 span:nth-child(13) { animation-delay: 0.7s; }
        .header h1 span:nth-child(14) { animation-delay: 0.75s; }
        .header h1 span:nth-child(15) { animation-delay: 0.8s; }
        .header h1 span:nth-child(16) { animation-delay: 0.85s; }
        .header h1 span:nth-child(17) { animation-delay: 0.9s; }
        .header h1 span:nth-child(18) { animation-delay: 0.95s; }
        .header h1 span:nth-child(19) { animation-delay: 1s; }
        .header h1 span:nth-child(20) { animation-delay: 1.05s; }
        .header h1 span:nth-child(21) { animation-delay: 1.1s; }
        .header h1 span:nth-child(22) { animation-delay: 1.15s; }
        .header h1 span:nth-child(23) { animation-delay: 1.2s; }
        .header h1 span:nth-child(24) { animation-delay: 1.25s; }
        .header h1 span:nth-child(25) { animation-delay: 1.3s; }
        .header h1 span:nth-child(26) { animation-delay: 1.35s; }
        .header h1 span:nth-child(27) { animation-delay: 1.4s; }
        .header h1 span:nth-child(28) { animation-delay: 1.45s; }
        .header h1 span:nth-child(29) { animation-delay: 1.5s; }
        .header h1 span:nth-child(30) { animation-delay: 1.55s; }
        .header h1 span:nth-child(31) { animation-delay: 1.6s; }
        .header h1 span:nth-child(32) { animation-delay: 1.65s; }
        .header h1 span:nth-child(33) { animation-delay: 1.7s; }
        .header h1 span:nth-child(34) { animation-delay: 1.75s; }
        .header h1 span:nth-child(35) { animation-delay: 1.8s; }
        .header h1 span:nth-child(36) { animation-delay: 1.85s; }
        .header h1 span:nth-child(37) { animation-delay: 1.9s; }
        .header h1 span:nth-child(38) { animation-delay: 1.95s; }

        /* 确保声波背景不会遮挡标题 */
        .sound-wave-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0; /* 确保在标题下层 */
            opacity: 0.05;
            pointer-events: none;
        }

        .header h1, .header p {
            position: relative;
            z-index: 5; /* 确保文字在高层 */
        }

        /* 修复标题after效果 */
        .header h1::after {
            z-index: 4; /* 确保在标题下方但在背景上方 */
        }

        .header h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 3px;
        }

        .header p {
            color: var(--text-secondary);
            max-width: 800px;
            margin: 0 auto;
            font-size: 16px;
            line-height: 1.8;
        }

        /* 修改进度指示器样式，使用更现代的连接方式 */
        .progress-indicator {
            display: flex;
            justify-content: center;
            margin: 40px 0 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: var(--border-radius);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.05);
            position: relative;
            z-index: 5;
            backdrop-filter: blur(5px);
        }

        /* 添加progress-steps类样式 */
        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            width: 100%;
            position: relative;
        }

        .progress-steps::before {
            content: '';
            position: absolute;
            top: 40px;
            left: 90px; /* 增加左侧边距，避免侵入第一个步骤 */
            right: 90px; /* 增加右侧边距，避免侵入最后一个步骤 */
            height: 2px;
            background: linear-gradient(90deg, 
                rgba(74, 144, 226, 0.3) 0%, 
                rgba(74, 144, 226, 0.7) 50%, 
                rgba(74, 144, 226, 0.3) 100%);
            z-index: 1;
            border-radius: 3px;
        }

        /* 重新设计进度指示器的连接样式 */
        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 3;
            padding: 0 40px;
            transition: var(--transition);
        }

        /* 修复进度指示器的箭头对齐 */
        .progress-step:not(:last-child)::after {
            content: '';
            position: absolute;
            right: -10px;
            top: 40px;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%234A90E2' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='9 18 15 12 9 6'%3E%3C/polyline%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            z-index: 5;
            opacity: 0.8;
            transition: var(--transition);
        }

        /* 添加进度步骤的悬停效果 */
        .progress-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(74, 144, 226, 0.3);
        }

        .progress-step:hover .step-label {
            color: var(--primary-color);
            font-weight: 600;
        }

        /* 悬停效果增强 */
        .progress-step:hover::after {
            transform: translateY(-50%) scale(1.2);
            opacity: 1;
        }

        /* 增加悬停时图标的效果 */
        .progress-step:hover .step-icon {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(74, 144, 226, 0.3);
        }

        /* 步骤图标动画 */
        .step-number::before {
            content: '';
            position: absolute;
            width: 25px;
            height: 25px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0.2;
            transition: var(--transition);
            animation: step-icon-pulse 2s infinite ease-in-out;
        }

        .progress-step:nth-child(1) .step-number::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='12' cy='7' r='4'/%3E%3C/svg%3E");
        }

        .progress-step:nth-child(2) .step-number::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M18 20V10'/%3E%3Cpath d='M12 20V4'/%3E%3Cpath d='M6 20v-6'/%3E%3C/svg%3E");
        }

        .progress-step:nth-child(3) .step-number::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M22 12h-4l-3 9L9 3l-3 9H2'/%3E%3C/svg%3E");
        }

        .progress-step:nth-child(4) .step-number::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M19 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z'/%3E%3Cpath d='M16.5 9.5L12 14 8.5 9.5h-3v9h14v-9h-3z'/%3E%3C/svg%3E");
        }

        @keyframes step-icon-pulse {
            0%, 100% { transform: scale(1); opacity: 0.2; }
            50% { transform: scale(1.2); opacity: 0.4; }
        }

        .step-number.active::before {
            opacity: 0.7;
            animation: step-icon-pulse 1.5s infinite ease-in-out;
        }

        .step-label {
            font-size: 15px;
            color: var(--text-secondary);
            font-weight: 500;
            transition: var(--transition);
        }

        .active + .step-label {
            color: var(--primary-color);
            font-weight: 600;
        }
		        .form-section {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: var(--border-radius);
            margin: 0 40px 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            transition: transform 0.6s cubic-bezier(0.165, 0.84, 0.44, 1), box-shadow 0.6s ease;
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(30px);
        }

        /* 为进入视图的卡片添加动画类 */
        .form-section.animate-in {
            opacity: 1;
            transform: translateY(0);
        }

        /* 卡片悬浮效果 */
        .form-section:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px rgba(74, 144, 226, 0.12);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        /* 科技感装饰线条 */
        .form-section::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 4px;
            background: linear-gradient(to bottom, var(--primary-color), var(--secondary-color));
            border-radius: 4px;
        }

        /* 添加电路板背景元素 */
        .form-section::after {
            content: '';
            position: absolute;
            right: 0;
            bottom: 0;
            width: 120px;
            height: 120px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 24 24' stroke-width='0.3' stroke='%234A90E2' fill='none'%3E%3Cpath d='M15 5v14'/%3E%3Cpath d='M9 9a6 6 0 0 0 0 6'/%3E%3Cpath d='M9 9h6'/%3E%3Cpath d='M9 15h6'/%3E%3Ccircle cx='9' cy='9' r='1'/%3E%3Ccircle cx='9' cy='15' r='1'/%3E%3Ccircle cx='15' cy='9' r='1'/%3E%3Ccircle cx='15' cy='15' r='1'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            opacity: 0.07;
            z-index: 0;
        }

        .form-section h2 {
            color: var(--primary-dark);
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(74, 144, 226, 0.15);
            font-weight: 600;
            position: relative;
        }

        .section-icon {
            margin-right: 15px;
            font-size: 24px;
            color: var(--primary-color);
            width: 42px;
            height: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(74, 144, 226, 0.08);
            border-radius: 10px;
            transition: var(--transition);
        }

        .form-section:hover .section-icon {
            transform: scale(1.1) rotate(-5deg);
            background: rgba(74, 144, 226, 0.1);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 25px;
            position: relative;
        }

        .form-group label {
            color: var(--text-primary);
            font-weight: 500;
            font-size: 15px;
            margin-bottom: 10px;
            transition: var(--transition);
            display: flex;
            align-items: center;
        }

        /* 修改表单标签前的图标样式，改为使用Iconify */
        .form-group label::before {
            content: "";
            display: none;
        }

        /* 添加Iconify图标到表单标签 */
        .form-group iconify-icon {
            margin-right: 8px;
            font-size: 20px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .form-group:hover iconify-icon {
            transform: scale(1.2);
        }

        /* 1. 提交按钮霓虹脉冲效果 */
        .submit-btn {
            background: linear-gradient(135deg, #3a7eca, #2c5c9e) !important;
            color: white !important;
            border: 3px solid rgba(255, 255, 255, 0.6) !important;
            box-shadow: 0 10px 25px rgba(74, 144, 226, 0.3), 0 5px 15px rgba(0, 0, 0, 0.1) !important;
            border-radius: 14px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 280px;
            position: relative;
            overflow: hidden;
        }

        /* 添加预测按钮悬停效果 */
        .submit-btn:hover {
            background: linear-gradient(135deg, #4a90e2, #357abd) !important;
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(74, 144, 226, 0.4), 0 8px 20px rgba(0, 0, 0, 0.15) !important;
            border-color: white !important;
        }

        /* 点击波纹效果 */
        .submit-btn-ripple {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: transparent;
            pointer-events: none;
        }

        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            transform: scale(0);
            animation: ripple-effect 0.8s linear;
        }

        @keyframes ripple-effect {
            to {
                transform: scale(2.5);
                opacity: 0;
            }
        }

        /* 2. 输入选择框现代化效果 */
        .form-control {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #E2E8F0;
            border-radius: 12px;
            font-size: 16px;
            transition: var(--transition);
            background: white;
            color: var(--text-primary);
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%234A90E2' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 16px;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.01);
            position: relative;
        }

        .form-control:hover {
            transform: translateY(-2px);
            border-color: var(--primary-color);
            box-shadow: 0 8px 15px rgba(74, 144, 226, 0.1);
        }

        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.15);
            outline: none;
        }

        /* 为select下拉选项添加更好的hover效果 */
        .form-control option {
            padding: 12px;
            transition: all 0.3s ease;
        }

        .form-control option:hover {
            background-color: rgba(74, 144, 226, 0.1);
            color: var(--primary-color);
        }

        .form-control option:checked {
            background-color: rgba(74, 144, 226, 0.2);
            color: var(--primary-color);
            font-weight: bold;
        }

        /* 添加聚焦时的线条动画 */
        .form-control::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-light));
            transition: width 0.3s ease;
        }

        .form-control:focus::after {
            width: 100%;
        }

        /* 3. 结果展示区3D效果 */
		        .result-container {
            display: none;
            margin: 0 40px 40px;
            padding: 50px 40px;
            border-radius: var(--border-radius);
            background: white;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
            /* 添加3D效果 */
            transform-style: preserve-3d;
            perspective: 1000px;
            transform: translateZ(0);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .result-container.show {
            display: block;
            animation: result-appear 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes result-appear {
            0% {
                opacity: 0;
                transform: translateY(30px) rotateX(10deg);
            }
            100% {
                opacity: 1;
                transform: translateY(0) rotateX(0);
            }
        }

        /* 改进风险仪表盘 */
        .risk-meter-container {
            position: relative;
            width: 320px;
            height: 320px;
            margin: 40px auto;
            perspective: 1000px;
        }

        .risk-meter {
            width: 250px;
            height: 250px;
            margin: 30px auto;
            position: relative;
            background: linear-gradient(145deg, #f8fafc, #ffffff);
            border-radius: 50%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08), 
                        inset 0 -2px 10px rgba(0, 0, 0, 0.05),
                        inset 0 2px 10px rgba(255, 255, 255, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            transition: var(--transition);
            z-index: 2;
            overflow: hidden;
        }

        .risk-meter::before {
            content: '';
            position: absolute;
            width: 90%;
            height: 90%;
            border-radius: 50%;
            border: 10px solid #F5F7FA;
            box-shadow: inset 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .risk-meter::after {
            content: '';
            position: absolute;
            width: 110%;
            height: 110%;
            border-radius: 50%;
            background: conic-gradient(
                rgba(255, 255, 255, 0.8) 0deg,
                rgba(255, 255, 255, 0.1) 180deg,
                rgba(255, 255, 255, 0.8) 360deg
            );
            animation: rotate-meter 10s linear infinite;
            opacity: 0.3;
        }

        @keyframes rotate-meter {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* 动态风险仪表盘 */
        .risk-gauge {
            position: absolute;
            width: 320px;
            height: 320px;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .gauge-ring {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                var(--success-color) 0%, 
                var(--warning-color) 50%, 
                var(--danger-color) 100%
            );
            clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 100%, 0% 100%, 0% 0%, 50% 0%);
            opacity: 0.2;
            transform: rotate(-90deg);
            animation: gauge-fill 2s ease-out forwards;
        }

        /* 添加医疗相关标志 */
        .medical-badge {
            position: absolute;
            top: 35px;
            left: 50%;
            transform: translateX(-50%);
            padding: 5px 12px;
            background: linear-gradient(135deg, var(--primary-light), var(--primary-color));
            color: white;
            font-size: 12px;
            font-weight: 600;
            border-radius: 15px;
            box-shadow: 0 3px 10px rgba(74, 144, 226, 0.2);
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            z-index: 3;
        }

        .medical-badge i {
            margin-right: 5px;
            font-size: 14px;
        }

        /* 仪表盘刻度 */
        .gauge-marks {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .gauge-mark {
            position: absolute;
            width: 3px;
            height: 12px;
            background: rgba(127, 140, 141, 0.2);
            transform-origin: center 160px;
            left: calc(50% - 1.5px);
            top: 0;
        }

        /* 增加更多刻度，并添加不同的颜色 */
        .gauge-mark:nth-child(1), .gauge-mark:nth-child(2), .gauge-mark:nth-child(3), 
        .gauge-mark:nth-child(4), .gauge-mark:nth-child(5), .gauge-mark:nth-child(6), .gauge-mark:nth-child(7) {
            background: rgba(46, 204, 113, 0.7);
            height: 15px;
        }

        .gauge-mark:nth-child(8), .gauge-mark:nth-child(9), .gauge-mark:nth-child(10), 
        .gauge-mark:nth-child(11), .gauge-mark:nth-child(12), .gauge-mark:nth-child(13) {
            background: rgba(247, 183, 51, 0.7);
            height: 15px;
        }

        .gauge-mark:nth-child(14), .gauge-mark:nth-child(15), .gauge-mark:nth-child(16), 
        .gauge-mark:nth-child(17), .gauge-mark:nth-child(18), .gauge-mark:nth-child(19), .gauge-mark:nth-child(20) {
            background: rgba(231, 76, 60, 0.7);
            height: 15px;
        }

        /* 为20个刻度设置角度 */
        .gauge-mark:nth-child(1) { transform: rotate(-180deg); }
        .gauge-mark:nth-child(2) { transform: rotate(-162deg); }
        .gauge-mark:nth-child(3) { transform: rotate(-144deg); }
        .gauge-mark:nth-child(4) { transform: rotate(-126deg); }
        .gauge-mark:nth-child(5) { transform: rotate(-108deg); }
        .gauge-mark:nth-child(6) { transform: rotate(-90deg); }
        .gauge-mark:nth-child(7) { transform: rotate(-72deg); }
        .gauge-mark:nth-child(8) { transform: rotate(-54deg); }
        .gauge-mark:nth-child(9) { transform: rotate(-36deg); }
        .gauge-mark:nth-child(10) { transform: rotate(-18deg); }
        .gauge-mark:nth-child(11) { transform: rotate(0deg); }
        .gauge-mark:nth-child(12) { transform: rotate(18deg); }
        .gauge-mark:nth-child(13) { transform: rotate(36deg); }
        .gauge-mark:nth-child(14) { transform: rotate(54deg); }
        .gauge-mark:nth-child(15) { transform: rotate(72deg); }
        .gauge-mark:nth-child(16) { transform: rotate(90deg); }
        .gauge-mark:nth-child(17) { transform: rotate(108deg); }
        .gauge-mark:nth-child(18) { transform: rotate(126deg); }
        .gauge-mark:nth-child(19) { transform: rotate(144deg); }
        .gauge-mark:nth-child(20) { transform: rotate(162deg); }

        /* 风险区域标签 */
        .risk-zones {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .risk-zone {
            position: absolute;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .risk-zone.low {
            top: 65%;
            left: 15%;
            color: var(--success-color);
        }

        .risk-zone.mid {
            top: 25%;
            left: 50%;
            transform: translateX(-50%);
            color: var(--warning-color);
        }

        .risk-zone.high {
            top: 65%;
            right: 15%;
            color: var(--danger-color);
        }

        /* 仪表盘指针 */
        .gauge-needle {
            position: absolute;
            width: 120px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color) 60%, rgba(74, 144, 226, 0.3));
            top: 50%;
            left: 50%;
            transform: translate(0%, -50%) rotate(-90deg);
            transform-origin: left center;
            border-radius: 4px;
            transition: transform 2s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 1px 6px rgba(0, 0, 0, 0.15);
            z-index: 3;
        }

        .gauge-needle::before {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid var(--primary-color);
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
        }

        .gauge-needle::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: radial-gradient(circle, white 30%, var(--primary-color) 31%, var(--primary-color) 70%, rgba(74, 144, 226, 0.3) 71%);
            left: -10px;
            top: 50%;
            transform: translateY(-50%);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        /* 显示数据来源信息 */
        .data-source {
            position: absolute;
            bottom: 5px;
            right: 10px;
            font-size: 9px;
            color: var(--text-secondary);
            opacity: 0.7;
            font-style: italic;
        }
		        .risk-percentage {
            font-size: 48px;
            font-weight: 700;
            color: var(--primary-color);
            margin: 10px 0 0;
            text-shadow: 0 2px 10px rgba(74, 144, 226, 0.15);
            position: relative;
            z-index: 2;
            animation: countUp 1s ease-out;
            transition: color 0.5s ease;
        }

        .risk-label {
            font-size: 16px;
            color: var(--text-secondary);
            margin-top: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
            position: relative;
            z-index: 2;
        }

        /* 改进的推荐卡片样式 */
        .recommendations {
            margin-top: 60px;
        }

        .recommendations h3 {
            font-size: 24px;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 30px;
            position: relative;
            display: inline-block;
            text-align: center;
            width: 100%;
        }

        .recommendations h3 i {
            margin-right: 12px;
            width: 38px;
            height: 38px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary-light), var(--primary-color));
            border-radius: 50%;
            color: white;
            box-shadow: 0 3px 10px rgba(74, 144, 226, 0.2);
            vertical-align: middle;
        }

        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* 固定两列 */
            gap: 30px;
        }

        .recommendation-item {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }

        .recommendation-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            opacity: 0.7;
            transition: var(--transition);
        }

        .recommendation-item:hover {
            transform: translateY(-12px) scale(1.03);
            box-shadow: 0 22px 40px rgba(74, 144, 226, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.6);
        }

        .recommendation-item:hover::before {
            opacity: 1;
            height: 8px;
        }

        .recommendation-icon {
            width: 66px;
            height: 66px;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-light));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            position: relative;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 20px rgba(74, 144, 226, 0.15);
        }

        .recommendation-icon i {
            color: white;
            font-size: 28px;
            filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.2));
        }

        .recommendation-item:hover .recommendation-icon {
            transform: scale(1.15) translateY(-5px);
            box-shadow: 0 15px 25px rgba(74, 144, 226, 0.25);
        }

        .recommendation-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 15px;
            font-size: 18px;
            position: relative;
            display: inline-block;
        }

        .recommendation-title::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 2px;
            transition: var(--transition);
        }

        .recommendation-item:hover .recommendation-title::after {
            width: 60px;
        }

        .recommendation-desc {
            color: var(--text-secondary);
            line-height: 1.7;
            font-size: 15px;
        }

        /* 修改响应式布局，确保在小屏幕上也是2*2布局 */
        @media (max-width: 768px) {
            .recommendations-grid {
                grid-template-columns: repeat(2, 1fr); /* 保持两列 */
                gap: 20px;
            }
        }

        @media (max-width: 576px) {
            .recommendations-grid {
                grid-template-columns: 1fr; /* 在非常小的屏幕上改为单列 */
            }
        }

        /* 找到并删除 data source 的元素和样式 */
        .risk-meter-container .data-source {
            /* 移除此元素的样式，或者保留样式但是将元素设为不可见 */
            display: none;
        }

        .submit-btn-container {
            position: relative;
            display: flex;
            justify-content: center; /* 确保按钮居中 */
            margin: 60px auto 70px;
            z-index: 5;
            width: 100%; /* 确保容器占据整行宽度 */
            text-align: center; /* 额外保证居中 */
            align-items: center; /* 垂直居中 */
        }

        /* 完善移动端适配 */
        /* 基础响应式设置 */
        @media (max-width: 992px) {
            .container {
                margin: 20px 15px;
                width: auto;
            }
            
            .header {
                padding: 40px 25px 30px;
            }
            
            .header h1 {
                font-size: 28px;
            }
            
            .header p {
                font-size: 14px;
            }
            
            /* 进度指示器调整 */
            .progress-indicator {
                flex-direction: column;
                align-items: flex-start;
                padding: 20px 15px;
            }
            
            .progress-indicator::before {
                left: 25px;
                right: auto;
                top: 70px;
                bottom: 70px;
                width: 2px;
                height: auto;
                background: repeating-linear-gradient(
                    to bottom,
                    var(--primary-light),
                    var(--primary-light) 5px,
                    transparent 5px,
                    transparent 10px
                );
            }
            
            .progress-step {
                margin: 15px 0;
            }
            
            /* 表单区域缩小内边距 */
            .form-section {
                margin: 0 20px 25px;
                padding: 25px 20px;
            }
            
            /* 表单布局变为单列 */
            .form-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            /* 风险仪表盘缩小 */
            .risk-meter-container {
                width: 280px;
                height: 280px;
            }
            
            .risk-meter {
                width: 220px;
                height: 220px;
            }
            
            .risk-gauge {
                width: 280px;
                height: 280px;
            }
            
            /* 推荐项在中等屏幕保持两列 */
            .recommendations-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
        }

        /* 更小屏幕的适配 */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 24px;
            }
            
            .form-section h2 {
                font-size: 20px;
            }
            
            /* 改进表单控件在移动设备上的显示 */
            .form-control {
                padding: 12px 14px;
                font-size: 15px;
            }
            
            /* 缩放提交按钮 */
            .submit-btn {
                padding: 15px 30px;
                font-size: 16px;
                min-width: 240px;
            }
            
            /* 风险描述文本调整 */
            .risk-description {
                padding: 20px;
                font-size: 14px;
            }
            
            /* 风险仪表盘文字大小调整 */
            .risk-percentage {
                font-size: 38px;
            }
            
            /* 推荐标题和内容 */
            .recommendations h3 {
                font-size: 20px;
            }
            
            .recommendation-title {
                font-size: 16px;
            }
            
            .recommendation-desc {
                font-size: 14px;
            }
            
            /* 调整配图尺寸 */
            .recommendation-icon {
                width: 50px;
                height: 50px;
            }
            
            .recommendation-icon i {
                font-size: 24px;
            }
        }

        /* 极小屏幕适配 */
        @media (max-width: 576px) {
            .container {
                margin: 10px;
                border-radius: 12px;
            }
            
            .header {
                padding: 30px 20px 25px;
                border-radius: 12px 12px 0 0;
            }
            
            .header h1 {
                font-size: 22px;
            }
            
            .header p {
                font-size: 13px;
            }
            
            /* 风险仪表盘进一步缩小 */
            .risk-meter-container {
                width: 240px;
                height: 240px;
            }
            
            .risk-meter {
                width: 180px;
                height: 180px;
            }
            
            .risk-gauge {
                width: 240px;
                height: 240px;
            }
            
            /* 风险百分比文字 */
            .risk-percentage {
                font-size: 32px;
            }
            
            /* 推荐部分变为单列 */
            .recommendations-grid {
                grid-template-columns: 1fr;
            }
            
            /* 缩放推荐部分的图标 */
            .recommendation-icon {
                width: 50px;
                height: 50px;
            }
            
            /* 修改结果容器边距 */
            .result-container {
                margin: 0 15px 20px;
                padding: 30px 15px;
            }
            
            /* 提交按钮的宽度 */
            .submit-btn {
                width: 90%;
                min-width: auto;
            }
        }

        /* 优化触摸体验 */
        @media (hover: none) and (pointer: coarse) {
            /* 增加点击区域 */
            .form-control, .submit-btn {
                min-height: 48px; /* 适合手指点击的最小高度 */
            }
            
            /* 移除仅适用于鼠标的悬停效果 */
            .form-control:hover {
                transform: none;
            }
            
            /* 调整选择框的下拉箭头尺寸 */
            .form-control {
                background-size: 20px;
                background-position: right 10px center;
            }
        }

        /* 添加声波动画背景 */
        .sound-wave-background {
            position: absolute;
            top: 0;
            left: 0;
                width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
            opacity: 0.07;
        }

        .wave {
            position: absolute;
            background: var(--primary-color);
            border-radius: 50%;
            transform: scale(0);
            animation: waveExpand 4s linear infinite;
        }

        @keyframes waveExpand {
            0% {
                transform: scale(0);
                opacity: 0.7;
            }
            100% {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* 为标题文字添加高亮背景，确保在任何背景上都清晰可见 */
        .header h1::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -20px;
            right: -20px;
            bottom: 0px;
            background-color: rgba(255, 255, 255, 0.85);
            border-radius: 15px;
            z-index: -1;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        /* 添加玻璃态设计的辅助样式 */
        .glass-effect-helper {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -2;
            overflow: hidden;
            display: none; /* 添加这一行完全隐藏玻璃效果 */
        }
        
        .glass-light {
            position: absolute;
            background: radial-gradient(circle, rgba(74, 144, 226, 0.15) 0%, rgba(255, 255, 255, 0) 70%);
            border-radius: 50%;
            animation: glass-light-move 15s infinite alternate ease-in-out;
        }
        
        .glass-light:nth-child(1) {
            width: 800px;
            height: 800px;
            top: -200px;
            right: -200px;
            opacity: 0.7;
        }
        
        .glass-light:nth-child(2) {
            width: 600px;
            height: 600px;
            bottom: -100px;
            left: -100px;
            opacity: 0; /* 将透明度改为0，完全隐藏左下角的白色方块 */
            animation-delay: 5s;
        }
        
        @keyframes glass-light-move {
            0% {
                transform: translate(0, 0);
            }
            100% {
                transform: translate(100px, 50px);
            }
        }
        
        /* 增强玻璃态卡片效果 */
        .form-section::after,
        .recommendation-item::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: var(--border-radius);
            background: linear-gradient(125deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 40%);
            pointer-events: none;
            z-index: 1;
        }
        
        /* 玻璃态卡片内部光效 */
        .form-section .inner-glow,
        .recommendation-item .inner-glow {
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
            border-radius: var(--border-radius);
            background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 70%);
            opacity: 0.4;
            pointer-events: none;
            z-index: 0;
        }

        /* 美化表单控件 - 创建新型内嵌标签效果 */
        .form-control {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #E2E8F0;
            border-radius: 12px;
            font-size: 16px;
            transition: var(--transition);
            background: white;
            color: var(--text-primary);
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%234A90E2' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 16px;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.01);
            position: relative;
        }

        .form-control:hover {
            transform: translateY(-2px);
            border-color: var(--primary-color);
            box-shadow: 0 8px 15px rgba(74, 144, 226, 0.1);
        }

        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.15);
            outline: none;
        }

        /* 为select下拉选项添加更好的hover效果 */
        .form-control option {
            padding: 12px;
            transition: all 0.3s ease;
        }

        .form-control option:hover {
            background-color: rgba(74, 144, 226, 0.1);
            color: var(--primary-color);
        }

        .form-control option:checked {
            background-color: rgba(74, 144, 226, 0.2);
            color: var(--primary-color);
            font-weight: bold;
        }

        /* 添加聚焦时的线条动画 */
        .form-control::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-light));
            transition: width 0.3s ease;
        }

        .form-control:focus::after {
            width: 100%;
        }

        /* 改进表单标签样式 */
        .form-group {
            display: flex;
                flex-direction: column;
            margin-bottom: 28px;
            position: relative;
        }

        .form-group label {
            color: var(--text-primary);
            font-weight: 500;
            font-size: 15px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            position: relative;
            padding-left: 2px;
        }

        /* 给标签添加装饰效果 */
        .form-group label::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-light));
            transition: width 0.3s ease;
            border-radius: 2px;
            opacity: 0.5;
        }

        .form-group:hover label::after {
            width: 35%;
        }

        /* 表单控件焦点时的标签效果 */
        .form-control:focus + label::after {
            width: 50%;
            opacity: 1;
        }

        /* 添加Iconify图标到表单标签 */
        .form-group iconify-icon {
            margin-right: 10px;
            font-size: 20px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: linear-gradient(135deg, rgba(74, 144, 226, 0.12), rgba(74, 144, 226, 0.05));
            padding: 6px;
            border-radius: 8px;
            color: var(--primary-color);
        }

        .form-group:hover iconify-icon {
            transform: scale(1.2) rotate(-5deg);
            background: linear-gradient(135deg, rgba(74, 144, 226, 0.18), rgba(74, 144, 226, 0.08));
            box-shadow: 0 3px 8px rgba(74, 144, 226, 0.1);
        }

        /* 进度指示器美化 */
        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
                width: 100%;
            position: relative;
        }

        .progress-steps::before {
            content: '';
            position: absolute;
            top: 40px;
            left: 90px; /* 增加左侧边距，避免侵入第一个步骤 */
            right: 90px; /* 增加右侧边距，避免侵入最后一个步骤 */
            height: 2px;
            background: linear-gradient(90deg, 
                rgba(74, 144, 226, 0.3) 0%, 
                rgba(74, 144, 226, 0.7) 50%, 
                rgba(74, 144, 226, 0.3) 100%);
            z-index: 1;
            border-radius: 3px;
        }

        /* 调整进度步骤的样式 */
        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            z-index: 3;
            padding: 0 20px;
            transition: var(--transition);
        }

        .step-number {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: white;
            border: 2px solid var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: var(--primary-color);
            margin-right: 12px;
            transition: var(--transition);
            position: relative;
            box-shadow: 0 2px 10px rgba(74, 144, 226, 0.1);
        }

        .progress-step:first-child .step-number.active,
        .step-number.active {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.6);
        }

        .step-label {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            transition: var(--transition);
            white-space: nowrap;
        }

        /* 激活状态样式 */
        .progress-step.active .step-number {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(74, 144, 226, 0.3),
                        inset 0 2px 5px rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.7);
        }

        .progress-step.active .step-label {
            color: var(--primary-color);
            font-weight: 700;
        }

        /* 更新连接线位置，使其正确对齐 */
        .progress-indicator::before,
        .progress-steps::before {
            content: '';
            position: absolute;
            top: 24px; /* 与图标中心对齐 */
            left: 90px;
            right: 90px;
            height: 2px;
            background: linear-gradient(90deg, 
                rgba(74, 144, 226, 0.3) 0%, 
                rgba(74, 144, 226, 0.7) 50%, 
                rgba(74, 144, 226, 0.3) 100%);
            z-index: 1;
            border-radius: 3px;
        }

        /* 修复进度指示器的箭头对齐 */
        .progress-step:not(:last-child)::after {
            content: '';
            position: absolute;
            right: -10px;
            top: 40px;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%234A90E2' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='9 18 15 12 9 6'%3E%3C/polyline%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            z-index: 5;
            opacity: 0.8;
            transition: var(--transition);
        }

        .progress-step:hover:not(:last-child)::after {
            transform: translateY(-50%) scale(1.2);
            opacity: 1;
        }

        /* 激活状态样式 */
        .progress-step.active .step-number {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(74, 144, 226, 0.3),
                        inset 0 2px 5px rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.7);
        }

        .progress-step.active .step-number .number {
            transform: scale(0);
            opacity: 0;
        }

        .progress-step.active .step-number iconify-icon {
            opacity: 1;
            transform: scale(1);
        }

        .progress-step.active .step-label {
            color: var(--primary-color);
            font-weight: 600;
        }

        .progress-step.active .step-label::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-light), var(--primary-color));
            border-radius: 2px;
        }

        /* 完成状态样式 */
        .progress-step.completed .step-number {
            background: linear-gradient(135deg, #48BB78, #38A169);
            color: white;
            box-shadow: 0 8px 25px rgba(56, 161, 105, 0.3),
                        inset 0 2px 5px rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.7);
        }

        .progress-step.completed .step-number .number {
            transform: scale(0);
            opacity: 0;
        }

        .progress-step.completed .step-number iconify-icon {
            opacity: 1;
            transform: scale(1);
        }

        .progress-step.completed .step-label {
            color: #38A169;
            font-weight: 600;
        }

        /* 背景装饰效果 */
        .bg-decoration {
            position: fixed;
            width: 600px;
            height: 600px;
            border-radius: 50%;
            background: radial-gradient(
                circle,
                rgba(74, 144, 226, 0.05) 0%,
                rgba(74, 144, 226, 0.02) 70%,
                transparent 100%
            );
            filter: blur(40px);
            pointer-events: none;
            z-index: -1;
            animation: float 15s infinite ease-in-out;
        }

        .bg-decoration:nth-child(1) {
            top: -200px;
            right: -100px;
            background: radial-gradient(
                circle,
                rgba(74, 144, 226, 0.08) 0%,
                rgba(74, 144, 226, 0.03) 60%,
                transparent 100%
            );
            animation-delay: -5s;
        }

        .bg-decoration:nth-child(2) {
            bottom: -300px;
            left: -150px;
            width: 800px;
            height: 800px;
            background: radial-gradient(
                circle,
                rgba(239, 68, 68, 0.05) 0%,
                rgba(239, 68, 68, 0.01) 70%,
                transparent 100%
            );
            animation-duration: 20s;
        }

        .bg-decoration:nth-child(3) {
            top: 40%;
            right: 10%;
            width: 300px;
            height: 300px;
            background: radial-gradient(
                circle,
                rgba(236, 201, 75, 0.06) 0%,
                rgba(236, 201, 75, 0.02) 60%,
                transparent 100%
            );
            animation-duration: 18s;
            animation-delay: -7s;
        }

        @keyframes float {
            0%, 100% {
                transform: translate(0, 0);
            }
            25% {
                transform: translate(-15px, 25px);
            }
            50% {
                transform: translate(20px, -15px);
            }
            75% {
                transform: translate(-25px, -20px);
            }
        }

        /* 提交按钮美化 */
        .submit-btn {
            background: linear-gradient(135deg, #3a7eca, #2c5c9e); /* 使用更深的蓝色 */
            color: white;
            border: none;
            padding: 16px 32px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 20px rgba(74, 144, 226, 0.5), 0 4px 8px rgba(44, 92, 158, 0.4); /* 增强阴影效果 */
            position: relative;
            overflow: hidden;
            z-index: 1;
            margin-top: 20px;
            border: 3px solid rgba(255, 255, 255, 0.5); /* 添加更明显的白色边框 */
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0), 
                rgba(255, 255, 255, 0.2), 
                rgba(255, 255, 255, 0)
            );
            transform: skewX(-30deg);
            transition: all 0.8s ease;
            z-index: -1;
        }

        .submit-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(74, 144, 226, 0.4);
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)); /* 悬停时更深的蓝色 */
        }

        .submit-btn:hover::before {
            left: 100%;
        }

        .submit-btn:active {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
        }

        /* 整体容器美化 */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* 微妙的页面动画 */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-section {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .recommendation-item {
            animation: fadeInUp 0.6s ease-out forwards;
        }
        
        .recommendation-item:nth-child(2) {
            animation-delay: 0.1s;
        }

        .recommendation-item:nth-child(3) {
            animation-delay: 0.2s;
        }

        .recommendation-item:nth-child(4) {
            animation-delay: 0.3s;
        }

        /* 精美简约滚动条 */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(226, 232, 240, 0.3);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, var(--primary-light), var(--primary-color));
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(to bottom, var(--primary-color), var(--primary-dark));
        }

        /* 支持JavaScript的交互样式 */
        .form-group.focused label {
            color: var(--primary-color);
            transform: translateY(-2px);
        }

        .form-group.focused label::after {
            width: 50%;
            opacity: 1;
        }

        .form-group.has-value label {
            font-weight: 600;
        }

        .step-number.hovered {
            transform: translateY(-8px) rotate(5deg) !important;
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15),
                        inset 0 2px 5px rgba(255, 255, 255, 0.7) !important;
        }

        /* 按钮波纹效果 */
        .submit-btn {
            position: relative;
            overflow: hidden;
        }

        .ripple {
            position: absolute;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.6);
            transform: scale(0);
            animation: ripple 0.6s linear;
            pointer-events: none;
            width: 100px;
            height: 100px;
            margin-top: -50px;
            margin-left: -50px;
        }

        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* 悬停效果增强 */
        .progress-step:hover .step-number {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(74, 144, 226, 0.3);
        }

        .progress-step:hover .step-label {
            color: var(--primary-color);
            font-weight: 600;
        }

        /* 添加横线强调效果 */
        .progress-step:hover .step-label::after,
        .progress-step.active .step-label::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-light), var(--primary-color));
            border-radius: 2px;
            transition: var(--transition);
        }

        /* 确保所有步骤包括第一步在active状态下具有相同的样式 */
        .progress-step:first-child .step-number.active {
            opacity: 1; /* 确保第一步没有透明度问题 */
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
        }

        /* 修复第一步指示器不透明问题 */
        .step-indicator .progress-step:first-child .step-number {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            opacity: 1;
        }

        /* 表单控件波纹效果 */
        .form-control {
            position: relative;
            overflow: hidden;
        }
        
        .form-control-ripple {
            position: absolute;
            background: rgba(74, 144, 226, 0.2);
            border-radius: 50%;
            transform: scale(0);
            animation: form-ripple 0.6s linear;
            pointer-events: none;
        }
        
        @keyframes form-ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* 隐藏听力损失图表装饰 */
        .hearing-chart {
            display: none !important;
        }

        /* 隐藏旧背景元素 */
        .wave-background, .wave-bg, .floating-circles, .sound-wave, .sound-wave-background {
            display: none !important;
        }

        /* 添加听力医疗动效容器 - 修改位置到按钮下方 */
        .medical-animation {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 20px auto 0;
            z-index: 1;
            pointer-events: none;
        }
        
        /* 听力波纹动画效果 */
        .hearing-pulse {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(74, 144, 226, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .hearing-pulse::before, .hearing-pulse::after {
            content: '';
            position: absolute;
            border: 2px solid rgba(74, 144, 226, 0.7);
            border-radius: 50%;
            animation: pulse 3s ease-out infinite;
        }
        
        .hearing-pulse::before {
            width: 100%;
            height: 100%;
            animation-delay: 0.5s;
        }
        
        .hearing-pulse::after {
            width: 80%;
            height: 80%;
            animation-delay: 1.5s;
        }
        
        .ear-icon {
            width: 40px;
            height: 40px;
            position: relative;
            z-index: 2;
            color: #4A90E2;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(0.5);
                opacity: 1;
            }
            100% {
                transform: scale(2);
                opacity: 0;
            }
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        /* 听力波形图 */
        .sound-graph {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: flex-end;
            height: 30px;
            width: 100px;
        }
        
        .sound-bar {
            width: 3px;
            background: #4A90E2;
            margin: 0 2px;
            border-radius: 3px;
            animation: sound-bar var(--duration, 1s) ease-in-out infinite;
        }
        
        .sound-bar:nth-child(1) { height: 15px; --duration: 0.7s; animation-delay: 0.1s; }
        .sound-bar:nth-child(2) { height: 25px; --duration: 0.9s; animation-delay: 0.2s; }
        .sound-bar:nth-child(3) { height: 30px; --duration: 0.8s; animation-delay: 0.3s; }
        .sound-bar:nth-child(4) { height: 20px; --duration: 1.1s; animation-delay: 0.4s; }
        .sound-bar:nth-child(5) { height: 15px; --duration: 0.6s; animation-delay: 0.5s; }
        .sound-bar:nth-child(6) { height: 10px; --duration: 0.7s; animation-delay: 0.6s; }
        .sound-bar:nth-child(7) { height: 18px; --duration: 0.8s; animation-delay: 0.7s; }
        .sound-bar:nth-child(8) { height: 12px; --duration: 0.9s; animation-delay: 0.8s; }
        
        @keyframes sound-bar {
            0%, 100% {
                height: var(--height, 15px);
            }
            50% {
                height: calc(var(--height, 15px) * 1.5);
            }
        }
    </style>
</head>
<body>
    <!-- 添加波浪背景元素 -->
    <div class="wave-bg">
        <div class="wave wave1"></div>
        <div class="wave wave2"></div>
        <div class="wave wave3"></div>
    </div>
    
    <!-- 恢复粒子效果画布 -->
    <canvas id="particles-canvas"></canvas>
    
    <div class="container">
        <!-- 打字机效果标题 -->
        <div class="ear-icon-decoration"></div>
        <div class="brain-icon-decoration"></div>
        
        <header class="header">
            <!-- 声波动画背景 -->
            <div class="sound-wave-background">
                <div class="wave" style="left:10%; top:20%; width:150px; height:150px; animation-delay: 0s;"></div>
                <div class="wave" style="left:30%; top:40%; width:100px; height:100px; animation-delay: 1s;"></div>
                <div class="wave" style="left:65%; top:25%; width:120px; height:120px; animation-delay: 2s;"></div>
                <div class="wave" style="left:85%; top:60%; width:160px; height:160px; animation-delay: 3s;"></div>
                <div class="wave" style="left:50%; top:70%; width:140px; height:140px; animation-delay: 1.5s;"></div>
            </div>
            
            <!-- 头部图标 -->
            <div class="header-icon-container">
                <div class="pulse-rings">
                    <div class="pulse-ring"></div>
                    <div class="pulse-ring"></div>
                    <div class="pulse-ring"></div>
                    <div class="pulse-ring"></div>
                </div>
                <i class="fas fa-stethoscope header-icon"></i>
            </div>
            
            <h1>
                <span>H</span><span>i</span><span>g</span><span>h</span><span>-</span><span>F</span><span>r</span><span>e</span><span>q</span><span>u</span><span>e</span><span>n</span><span>c</span><span>y</span><span> </span><span>H</span><span>e</span><span>a</span><span>r</span><span>i</span><span>n</span><span>g</span><span> </span><span>L</span><span>o</span><span>s</span><span>s</span><span> </span><span>P</span><span>r</span><span>e</span><span>d</span><span>i</span><span>c</span><span>t</span><span>i</span><span>o</span><span>n</span>
            </h1>
            <p>Personalized high-frequency hearing loss risk prediction system based on machine learning model. This prediction is for reference only. If you have any concerns, please seek medical attention in time.</p>
            
            <!-- 听力波形动画 -->
            <div class="sound-wave">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
            
            <div class="progress-steps">
                <div class="progress-step active">
                    <div class="step-number">
                        <span class="number">1</span>
                        <iconify-icon icon="tabler:user"></iconify-icon>
                    </div>
                    <div class="step-label">Basic Information</div>
                </div>
                <div class="progress-step">
                    <div class="step-number">
                        <span class="number">2</span>
                        <iconify-icon icon="tabler:activity"></iconify-icon>
                    </div>
                    <div class="step-label">Lifestyle Habits</div>
                </div>
                <div class="progress-step">
                    <div class="step-number">
                        <span class="number">3</span>
                        <iconify-icon icon="tabler:stethoscope"></iconify-icon>
                    </div>
                    <div class="step-label">Medical History</div>
                </div>
                <div class="progress-step">
                    <div class="step-number">
                        <span class="number">4</span>
                        <iconify-icon icon="tabler:report-medical"></iconify-icon>
                </div>
                    <div class="step-label">Clinical Test Results</div>
            </div>
            </div>

            <div id="form-container">
        <!-- 第一部分：基本信息 -->
        <div class="form-section">
                    <div class="inner-glow"></div>
            <h2>
                        <div class="section-icon">
                            <i class="fas fa-user-md"></i>
                        </div>
                Basic Information
            </h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="age_rank">
                                <iconify-icon icon="fa-solid:calendar-alt" style="color: #4a90e2;"></iconify-icon>
                        Age Rank
                    </label>
                    <select id="age_rank" class="form-control" required>
                        <option value="">Select Age Rank</option>
                        <option value="0">20-24 years old</option>
                        <option value="1">25-29 years old</option>
                        <option value="2">30-34 years old</option>
                        <option value="3">35-39 years old</option>
                        <option value="4">40-44 years old</option>
                        <option value="5">45-49 years old</option>
                        <option value="6">50-54 years old</option>
                        <option value="7">55-59 years old</option>
                        <option value="8">60-64 years old</option>
                        <option value="9">65-69 years old</option>
                        <option value="10">70-74 years old</option>
                        <option value="11">75-80 years old</option>
                        <option value="12">80+ years old</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="sex">
                        <iconify-icon icon="healthicons:sexual-reproductive-health" style="color: #4a90e2;"></iconify-icon>
                        Gender
                    </label>
                    <select id="sex" class="form-control" required>
                        <option value="">Select Gender</option>
                        <option value="1">Male</option>
                        <option value="2">Female</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="Education">
                        <iconify-icon icon="carbon:education" style="color: #4a90e2;"></iconify-icon>
                        Education Level
                    </label>
                    <select id="Education" class="form-control" required>
                        <option value="">Select Education Level</option>
                        <option value="1">Elementary school or lower</option>
                        <option value="2">Primary</option>
                        <option value="3">Secondary</option>
                        <option value="4">College</option>
                        <option value="5">Higher</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="race">
                        <iconify-icon icon="healthicons:people" style="color: #4a90e2;"></iconify-icon>
                        Race
                    </label>
                    <select id="race" class="form-control" required>
                        <option value="">Select Race</option>
                        <option value="1">Han Chinese</option>
                        <option value="2">Korean ethnic group</option>
                        <option value="3">Yao ethnic group</option>
                        <option value="4">Other ethnic group</option>
                    </select>
                </div>
            </div>
        </div>
		        <!-- 第二部分：生活习惯 -->
        <div class="form-section">
                    <div class="inner-glow"></div>
            <h2>
                        <div class="section-icon">
                            <i class="fas fa-walking"></i>
                        </div>
                Lifestyle Habits
            </h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="activities">
                        <iconify-icon icon="medical-icon:physical-therapy" style="color: #4a90e2;"></iconify-icon>
                        Physical Labor
                    </label>
                    <select id="activities" class="form-control" required>
                        <option value="">Select Activity Level</option>
                        <option value="3">High</option>
                        <option value="2">Moderate</option>
                        <option value="1">Low</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="dairy">
                        <iconify-icon icon="mdi:food-drumstick" style="color: #4a90e2;"></iconify-icon>
                        Frequency of Dairy Products Consumption
                    </label>
                    <select id="dairy" class="form-control" required>
                        <option value="">Select Intake Frequency</option>
                        <option value="1">5-7 days per week</option>
                        <option value="2">3-4 days per week</option>
                        <option value="3">1-2 days per week</option>
                        <option value="4">≤3 days per month</option>
                        <option value="5">Never eat</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="drink">
                        <iconify-icon icon="mdi:glass-mug-variant" style="color: #4a90e2;"></iconify-icon>
                        Alcohol Consumption Status
                    </label>
                    <select id="drink" class="form-control" required>
                        <option value="">Select Alcohol Consumption Status</option>
                        <option value="2">Current</option>
                        <option value="1">Former</option>
                        <option value="0">Never</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="smoke">
                        <iconify-icon icon="carbon:smoke" style="color: #4a90e2;"></iconify-icon>
                        Smoking Status
                    </label>
                    <select id="smoke" class="form-control" required>
                        <option value="">Select Smoking Status</option>
                        <option value="2">Current</option>
                        <option value="1">Former</option>
                        <option value="0">Never</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- 第三部分：健康状况 -->
        <div class="form-section">
                    <div class="inner-glow"></div>
            <h2>
                        <div class="section-icon">
                            <i class="fas fa-notes-medical"></i>
                        </div>
                Medical History
            </h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="hearing">
                                <iconify-icon icon="fa-solid:deaf" style="color: #4a90e2;"></iconify-icon>
                        Self-reported Hearing Status
                    </label>
                    <select id="hearing" class="form-control" required>
                        <option value="">Select Hearing Condition</option>
                        <option value="0">Good</option>
                        <option value="2">Fair</option>
                        <option value="3">Poor</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="tinnitus">
                                <iconify-icon icon="fa-solid:volume-up" style="color: #4a90e2;"></iconify-icon>
                        Tinnitus Duration (≥ 5 minutes/year)
                    </label>
                    <select id="tinnitus" class="form-control" required>
                        <option value="">Select Tinnitus Status</option>
                        <option value="1">Yes</option>
                        <option value="0">No</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="hbp">
                        <iconify-icon icon="healthicons:blood-pressure" style="color: #4a90e2;"></iconify-icon>
                        Blood Pressure Classification
                    </label>
                    <select id="hbp" class="form-control" required>
                        <option value="">Select Systolic Blood Pressure</option>
                        <option value="0">
                            Systolic＜130 mmHg
                            Diastolic＜80mmHg
                        </option>
                        <option value="1">
                            Systolic: 130-139 mmHg
                            Diastolic: 80-89 mmHg
                        </option>
                        <option value="2">
                            Systolic: 140-159 mmHg
                            Diastolic: 90-99 mmHg
                        </option>
                        <option value="3">
                            Systolic: ≥160 mmHg
                            Diastolic: ≥100 mmHg
                        </option>
                    </select>
                </div>

                <!-- 添加一个空的 div 元素，以填充 Medical History 标签页的空缺 -->
                <div class="form-group"></div>
            </div>
        </div>
		        <!-- 第四部分： 临床测试结果 -->
        <div class="form-section">
                    <div class="inner-glow"></div>
            <h2>
                        <div class="section-icon">
                            <i class="fas fa-vial"></i>
                        </div>
                Clinical Test Results
            </h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="tg">
                                <iconify-icon icon="medical-icon:i-laboratory" style="color: #4a90e2;"></iconify-icon>
                        Triglycerides (mmol/L)
                    </label>
                    <select id="tg" class="form-control" required>
                        <option value="">Select Triglyceride Level</option>
                        <option value="0">&lt; 1.7</option>
                        <option value="1">1.7 - 2.3</option>
                        <option value="2">≥ 2.3</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="cho">
                                <iconify-icon icon="mdi:test-tube" style="color: #4a90e2;"></iconify-icon>
                        Cholesterol (mmol/L)
                    </label>
                    <select id="cho" class="form-control" required>
                        <option value="">Select Cholesterol Level</option>
                        <option value="0">&lt; 5.2</option>
                        <option value="1">5.2 - 6.2</option>
                        <option value="2">≥ 6.2</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="glu">
                                <iconify-icon icon="fa-solid:tint" style="color: #4a90e2;"></iconify-icon>
                        Fasting Blood Glucose (mmol/L)
                    </label>
                    <select id="glu" class="form-control" required>
                        <option value="">Select Fasting Blood Glucose Level</option>
                        <option value="0">&lt; 5.6</option>
                        <option value="1">5.6 - 6.9</option>
                        <option value="2">≥ 7.0</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="bmi">
                                <iconify-icon icon="fa-solid:weight" style="color: #4a90e2;"></iconify-icon>
                        Body Mass Index (BMI)
                    </label>
                    <select id="bmi" class="form-control" required>
                        <option value="">Select Body Mass Index Level</option>
                        <option value="0">&lt; 18.5</option>
                        <option value="1">18.5 - 24.9</option>
                        <option value="2">≥25</option>
                    </select>
                </div>
            </div>
        </div>

                <!-- 提交按钮 - 居中设置 -->
        <div class="submit-btn-container">
            <button class="submit-btn" onclick="predict()">
                <i class="fas fa-stethoscope"></i>
                Start Prediction
            </button>
        </div>
        
        <!-- 添加听力医疗动效 - 移至按钮下方 -->
        <div class="medical-animation">
            <div class="hearing-pulse">
                <i class="fas fa-ear ear-icon"></i>
            </div>
            <div class="sound-graph">
                <div class="sound-bar"></div>
                <div class="sound-bar"></div>
                <div class="sound-bar"></div>
                <div class="sound-bar"></div>
                <div class="sound-bar"></div>
                <div class="sound-bar"></div>
                <div class="sound-bar"></div>
                <div class="sound-bar"></div>
            </div>
        </div>

        <!-- 结果显示区域 -->
        <div class="result-container" id="result">
            <!-- 风险仪表盘 -->
            <div class="risk-meter-container">
                        <div class="medical-badge">
                            <i class="fas fa-heartbeat"></i>
                            Medical Analysis
                        </div>
                <div class="risk-meter">
                    <div class="risk-percentage" id="risk-value">--</div>
                    <div class="risk-label">Risk Level</div>
                </div>
                <div class="risk-gauge">
                    <div class="gauge-ring"></div>
                    <div class="gauge-marks">
                        <div class="gauge-mark"></div>
                        <div class="gauge-mark"></div>
                        <div class="gauge-mark"></div>
                        <div class="gauge-mark"></div>
                        <div class="gauge-mark"></div>
                        <div class="gauge-mark"></div>
                        <div class="gauge-mark"></div>
                                <div class="gauge-mark"></div>
                                <div class="gauge-mark"></div>
                                <div class="gauge-mark"></div>
                                <div class="gauge-mark"></div>
                                <div class="gauge-mark"></div>
                                <div class="gauge-mark"></div>
                                <div class="gauge-mark"></div>
                                <div class="gauge-mark"></div>
                                <div class="gauge-mark"></div>
                                <div class="gauge-mark"></div>
                                <div class="gauge-mark"></div>
                                <div class="gauge-mark"></div>
                            </div>
                            <div class="risk-zones">
                                <div class="risk-zone low">LOW</div>
                                <div class="risk-zone mid">MODERATE</div>
                                <div class="risk-zone high">HIGH</div>
                    </div>
                    <div class="gauge-needle"></div>
                </div>
            </div>

            <div class="risk-description">
                Based on the information you provided, our machine learning model analysis indicates that your risk of developing high-frequency hearing loss is
                <strong id="risk-percentage">--</strong>.
                <br><br>
                        <small>* This prediction is based on established medical risk assessment models. It is for clinical reference only and should not replace professional medical diagnosis. If you have concerns about your hearing health, please consult with a healthcare professional.</small>
            </div>
			            <div class="recommendations">
                <h3>
                    <i class="fas fa-clipboard-list"></i>
                    Professional Recommendations
                </h3>
                <div class="recommendations-grid">
                    <div class="recommendation-item">
                                <div class="inner-glow"></div>
                        <div class="recommendation-icon">
                            <iconify-icon icon="healthicons:health-worker-form" width="28" height="28" style="color: white;"></iconify-icon>
                        </div>
                        <div class="recommendation-title">Regular Check-ups</div>
                        <div class="recommendation-desc">It is recommended to have a professional hearing test once a year to understand your hearing health.</div>
                    </div>

                    <div class="recommendation-item">
                                <div class="inner-glow"></div>
                        <div class="recommendation-icon">
                            <iconify-icon icon="healthicons:ear" width="28" height="28" style="color: white;"></iconify-icon>
                        </div>
                        <div class="recommendation-title">Avoid Noise</div>
                        <div class="recommendation-desc">Try to avoid prolonged exposure to high-decibel environments and take protective measures when necessary.</div>
                    </div>

                    <div class="recommendation-item">
                                <div class="inner-glow"></div>
                        <div class="recommendation-icon">
                            <iconify-icon icon="healthicons:sti" width="28" height="28" style="color: white;"></iconify-icon>
                        </div>
                        <div class="recommendation-title">Regular Schedule</div>
                        <div class="recommendation-desc">Maintain a regular sleep schedule and avoid over-fatigue that affects hearing health.</div>
                    </div>

                    <div class="recommendation-item">
                                <div class="inner-glow"></div>
                        <div class="recommendation-icon">
                            <iconify-icon icon="healthicons:city-worker" width="28" height="28" style="color: white;"></iconify-icon>
                        </div>
                        <div class="recommendation-title">Seek Medical Attention</div>
                        <div class="recommendation-desc">If you experience hearing discomfort, it is recommended to seek medical attention for examination and treatment.</div>
                    </div>
                </div>
            </div>
        </div>
            </div>
        </header>
    </div>

    <!-- 按顺序加载所需文件 -->
    <script src="model.js"></script>
    <script src="script.js"></script>
    <script>
        // Check if required components are loaded correctly
        window.addEventListener('load', function() {
            // Check if the model is loaded correctly
            if (typeof window.predict !== 'function') {
                console.error('Model not loaded properly');
                alert('Model loading failed, please refresh the page and try again.');
                return;
            }

            console.log('All components loaded successfully.');
        });
        
        // 粒子背景效果
        document.addEventListener('DOMContentLoaded', function() {
            const canvas = document.getElementById('particles-canvas');
            if (!canvas) return; // 如果找不到canvas，就退出
            
            const ctx = canvas.getContext('2d');
            
            // 设置画布大小
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            
            // 粒子属性
            const particlesArray = [];
            const numberOfParticles = Math.min(Math.floor(window.innerWidth * window.innerHeight / 20000), 80); // 减少粒子数量
            const colors = [
                'rgba(74, 144, 226, 0.4)', 
                'rgba(247, 183, 51, 0.3)', 
                'rgba(66, 133, 244, 0.2)',
                'rgba(99, 184, 255, 0.3)'
            ];
            
            // 鼠标位置
            let mouse = {
                x: null,
                y: null,
                radius: 120 // 减小鼠标影响半径
            };
            
            window.addEventListener('mousemove', function(event) {
                mouse.x = event.x;
                mouse.y = event.y;
            });
            
            // 鼠标离开窗口时重置位置
            window.addEventListener('mouseout', function() {
                mouse.x = undefined;
                mouse.y = undefined;
            });
            
            // 粒子类
            class Particle {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 3 + 1; // 减小粒子尺寸
                    this.baseSize = this.size;
                    this.speedX = Math.random() * 0.8 - 0.4; // 减小速度
                    this.speedY = Math.random() * 0.8 - 0.4; // 减小速度
                    this.color = colors[Math.floor(Math.random() * colors.length)];
                    this.initialX = this.x;
                    this.initialY = this.y;
                    this.density = (Math.random() * 20) + 1; // 减小密度
                }
                
                // 更新粒子位置
                update() {
                    // 轻微地移动回初始位置
                    if (Math.abs(this.x - this.initialX) > 80 || Math.abs(this.y - this.initialY) > 80) {
                        this.speedX += (this.initialX - this.x) * 0.001;
                        this.speedY += (this.initialY - this.y) * 0.001;
                    }
                    
                    this.x += this.speedX;
                    this.y += this.speedY;
                    
                    // 边界检查
                    if (this.x < 0 || this.x > canvas.width) {
                        this.speedX = -this.speedX * 0.8;
                    }
                    if (this.y < 0 || this.y > canvas.height) {
                        this.speedY = -this.speedY * 0.8;
                    }
                    
                    // 鼠标交互
                    if (mouse.x !== undefined && mouse.y !== undefined) {
                        const dx = mouse.x - this.x;
                        const dy = mouse.y - this.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance < mouse.radius) {
                            const forceDirectionX = dx / distance;
                            const forceDirectionY = dy / distance;
                            const force = (mouse.radius - distance) / mouse.radius;
                            
                            this.speedX += forceDirectionX * force * 0.5; // 减小力度
                            this.speedY += forceDirectionY * force * 0.5; // 减小力度
                            
                            // 鼠标附近的粒子变大
                            this.size = this.baseSize + (mouse.radius - distance) / mouse.radius * 2; // 减小变化量
                        } else {
                            // 远离鼠标时恢复原始大小
                            if (this.size > this.baseSize) {
                                this.size -= 0.1;
                            }
                        }
                    }
                    
                    // 限制速度
                    this.speedX = Math.max(-1.5, Math.min(1.5, this.speedX));
                    this.speedY = Math.max(-1.5, Math.min(1.5, this.speedY));
                    
                    // 添加弹性，逐渐减小速度
                    this.speedX *= 0.98;
                    this.speedY *= 0.98;
                }
                
                // 绘制粒子
                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    
                    // 添加轻微的光晕效果（减少闪烁）
                    ctx.shadowColor = this.color;
                    ctx.shadowBlur = 10;
                    ctx.shadowOffsetX = 0;
                    ctx.shadowOffsetY = 0;
                    
                    ctx.fill();
                    ctx.closePath();
                    
                    // 重置阴影，以避免影响其他绘制
                    ctx.shadowBlur = 0;
                }
            }
            
            // 初始化粒子
            function init() {
                particlesArray.length = 0;
                for (let i = 0; i < numberOfParticles; i++) {
                    particlesArray.push(new Particle());
                }
            }
            
            // 连接粒子
            function connect() {
                for (let a = 0; a < particlesArray.length; a++) {
                    for (let b = a; b < particlesArray.length; b++) {
                        const dx = particlesArray[a].x - particlesArray[b].x;
                        const dy = particlesArray[a].y - particlesArray[b].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance < 130) { // 减小连接距离
                            const opacity = (1 - distance/130) * 0.2; // 降低线条透明度
                            const gradient = ctx.createLinearGradient(
                                particlesArray[a].x, 
                                particlesArray[a].y, 
                                particlesArray[b].x, 
                                particlesArray[b].y
                            );
                            
                            gradient.addColorStop(0, particlesArray[a].color.replace(')', `, ${opacity})`).replace('rgba', 'rgba'));
                            gradient.addColorStop(1, particlesArray[b].color.replace(')', `, ${opacity})`).replace('rgba', 'rgba'));
                            
                            ctx.beginPath();
                            ctx.strokeStyle = gradient;
                            ctx.lineWidth = 0.6; // 减小线宽
                            ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                            ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                            ctx.stroke();
                        }
                    }
                }
            }
            
            // 动画循环
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                for (let i = 0; i < particlesArray.length; i++) {
                    particlesArray[i].update();
                    particlesArray[i].draw();
                }
                
                connect();
                requestAnimationFrame(animate);
            }
            
            // 窗口大小变化时重新初始化粒子
            window.addEventListener('resize', function() {
                resizeCanvas();
                init();
            });
            
            init();
            animate();
            
            // 卡片动画效果
            function checkVisibility() {
                const formSections = document.querySelectorAll('.form-section');
                const windowHeight = window.innerHeight;
                
                formSections.forEach(section => {
                    const sectionTop = section.getBoundingClientRect().top;
                    
                    if (sectionTop < windowHeight * 0.8) {
                        section.classList.add('animate-in');
                    }
                });
            }
            
            // 初始检查
            setTimeout(checkVisibility, 100);
            
            // 滚动时检查
            window.addEventListener('scroll', checkVisibility);
        });

        // 添加点击波纹效果
        document.querySelector('.submit-btn').addEventListener('click', function(e) {
            const rippleContainer = this.querySelector('.submit-btn-ripple');
            const rect = this.getBoundingClientRect();
            
            // 清除之前的波纹
            rippleContainer.innerHTML = '';
            
            // 创建新波纹
            const ripple = document.createElement('span');
            ripple.className = 'ripple';
            ripple.style.width = ripple.style.height = Math.max(rect.width, rect.height) * 2 + 'px';
            ripple.style.left = e.clientX - rect.left - Math.max(rect.width, rect.height) + 'px';
            ripple.style.top = e.clientY - rect.top - Math.max(rect.width, rect.height) + 'px';
            
            // 添加到容器
            rippleContainer.appendChild(ripple);
            
            // 定时移除波纹元素
            setTimeout(() => {
                ripple.remove();
            }, 800);
        });
        
        // 为表单元素添加滚动动画效果
        document.addEventListener('DOMContentLoaded', function() {
            // 获取所有表单区块
            const formSections = document.querySelectorAll('.form-section');
            
            // 添加IntersectionObserver来检测元素是否进入视口
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.transform = 'translateZ(0px) translateY(0)';
                        entry.target.style.opacity = '1';
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.2
            });
            
            // 初始设置和观察
            formSections.forEach(section => {
                // 设置初始状态
                section.style.opacity = '0';
                section.style.transform = 'translateZ(-20px) translateY(20px)';
                section.style.transition = 'all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                
                // 开始观察
                observer.observe(section);
            });
            
            // 为下拉菜单选择添加效果
            const selects = document.querySelectorAll('select.form-control');
            selects.forEach(select => {
                select.addEventListener('change', function() {
                    this.classList.add('selected');
                    
                    // 添加选中后的动画效果
                    const animation = this.animate(
                        [
                            { transform: 'translateY(-2px) scale(1.02)', boxShadow: '0 8px 20px rgba(74, 144, 226, 0.15)' },
                            { transform: 'translateY(-2px)' }
                        ], 
                        { 
                            duration: 500,
                            easing: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)' 
                        }
                    );
                    
                    animation.onfinish = () => {
                        this.style.transform = 'translateY(-2px)';
                    };
                });
            });
        });

        // 页面加载完成后进行的增强
        document.addEventListener('DOMContentLoaded', function() {
            // 给表单控件添加焦点和失焦事件处理
            const formControls = document.querySelectorAll('.form-control');
            formControls.forEach(control => {
                // 创建微妙的焦点效果
                control.addEventListener('focus', function() {
                    const formGroup = this.closest('.form-group');
                    if (formGroup) {
                        formGroup.classList.add('focused');
                    }
                });
                
                control.addEventListener('blur', function() {
                    const formGroup = this.closest('.form-group');
                    if (formGroup) {
                        formGroup.classList.remove('focused');
                    }
                });
                
                // 对于已有值的输入框，添加has-value类
                if (control.value) {
                    const formGroup = control.closest('.form-group');
                    if (formGroup) {
                        formGroup.classList.add('has-value');
                    }
                }
                
                control.addEventListener('input', function() {
                    const formGroup = this.closest('.form-group');
                    if (formGroup) {
                        if (this.value) {
                            formGroup.classList.add('has-value');
                        } else {
                            formGroup.classList.remove('has-value');
                        }
                    }
                });
            });
            
            // 为步骤指示器添加交互效果
            const progressSteps = document.querySelectorAll('.progress-step');
            progressSteps.forEach((step, index) => {
                const stepNumber = step.querySelector('.step-number');
                if (stepNumber) {
                    stepNumber.addEventListener('mouseenter', function() {
                        // 添加鼠标悬停时的效果
                        this.classList.add('hovered');
                    });
                    
                    stepNumber.addEventListener('mouseleave', function() {
                        // 移除鼠标离开时的效果
                        this.classList.remove('hovered');
                    });
                }
            });
            
            // 为提交按钮添加波纹效果
            const submitBtn = document.querySelector('.submit-btn');
            if (submitBtn) {
                submitBtn.addEventListener('click', function(e) {
                    const rect = this.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    const ripple = document.createElement('span');
                    ripple.className = 'ripple';
                    ripple.style.left = x + 'px';
                    ripple.style.top = y + 'px';
                    
                    this.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            }
        });

        // 添加互动效果
        document.addEventListener('DOMContentLoaded', function() {
            // 获取所有表单控件和提交按钮
            const formControls = document.querySelectorAll('.form-control');
            const submitBtn = document.querySelector('.submit-btn');
            
            // 添加表单控件的交互效果
            formControls.forEach(control => {
                // 添加点击波纹效果
                control.addEventListener('click', function(e) {
                    const rect = this.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    // 创建波纹元素
                    const ripple = document.createElement('span');
                    ripple.classList.add('form-control-ripple');
                    ripple.style.left = `${x}px`;
                    ripple.style.top = `${y}px`;
                    
                    this.appendChild(ripple);
                    
                    // 动画结束后移除波纹元素
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            });
            
            // 添加提交按钮的交互效果
            if (submitBtn) {
                // 悬停特效
                submitBtn.addEventListener('mouseenter', function() {
                    this.classList.add('hover-effect');
                });
                
                submitBtn.addEventListener('mouseleave', function() {
                    this.classList.remove('hover-effect');
                });
                
                // 点击波纹效果
                submitBtn.addEventListener('click', function(e) {
                    const rect = this.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    const wave = document.createElement('span');
                    wave.classList.add('submit-btn-wave');
                    wave.style.left = `${x}px`;
                    wave.style.top = `${y}px`;
                    
                    this.appendChild(wave);
                    
                    // 添加动画类
                    setTimeout(() => {
                        wave.classList.add('animate');
                    }, 1);
                    
                    // 动画结束后移除波纹元素
                    setTimeout(() => {
                        wave.remove();
                    }, 800);
                });
            }
            
            // 步骤指示器交互效果
            const stepNumbers = document.querySelectorAll('.step-number');
            stepNumbers.forEach(step => {
                step.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.1)';
                });
                
                step.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1)';
                });
            });
        });
    </script>

    <!-- 粒子效果脚本 -->
    <script>
        // 等待页面完全加载
        window.addEventListener('load', function() {
            const canvas = document.getElementById('particles-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            // 鼠标对象
            const mouse = {
                x: undefined,
                y: undefined,
                radius: 150
            };
            
            // 监听鼠标移动
            window.addEventListener('mousemove', function(event) {
                mouse.x = event.x;
                mouse.y = event.y;
            });
            
            // 监听屏幕大小变化
            window.addEventListener('resize', function() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                init();
            });
            
            // 粒子颜色（医疗相关的蓝色、绿色和白色）
            const colors = [
                'rgba(74, 144, 226, 0.7)', // 蓝色
                'rgba(74, 144, 226, 0.5)', // 淡蓝色
                'rgba(100, 200, 200, 0.6)', // 青绿色
                'rgba(255, 255, 255, 0.5)', // 白色
                'rgba(150, 200, 255, 0.6)' // 浅蓝色
            ];
            
            // 粒子数量（适度增加）
            const numberOfParticles = Math.min(120, Math.floor(window.innerWidth * window.innerHeight / 12000));
            
            // 粒子数组
            let particlesArray = [];
            
            // 粒子类定义
            class Particle {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 5 + 1; // 稍微增大粒子尺寸
                    this.baseSize = this.size;
                    this.speedX = Math.random() * 1 - 0.5; // 稍微增加速度变化
                    this.speedY = Math.random() * 1 - 0.5;
                    this.color = colors[Math.floor(Math.random() * colors.length)];
                    this.initialX = this.x;
                    this.initialY = this.y;
                    this.density = (Math.random() * 30) + 1; // 增加密度变化
                    this.connectionDistance = 150; // 连接距离
                }
                
                update() {
                    // 轻微地移动回初始位置
                    if (Math.abs(this.x - this.initialX) > 100 || Math.abs(this.y - this.initialY) > 100) {
                        this.speedX += (this.initialX - this.x) * 0.0005;
                        this.speedY += (this.initialY - this.y) * 0.0005;
                    }
                    
                    this.x += this.speedX;
                    this.y += this.speedY;
                    
                    // 边界检查
                    if (this.x < 0 || this.x > canvas.width) {
                        this.speedX = -this.speedX * 0.9;
                    }
                    if (this.y < 0 || this.y > canvas.height) {
                        this.speedY = -this.speedY * 0.9;
                    }
                    
                    // 鼠标交互 - 更强的交互效果
                    if (mouse.x !== undefined && mouse.y !== undefined) {
                        const dx = mouse.x - this.x;
                        const dy = mouse.y - this.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance < mouse.radius) {
                            const forceDirectionX = dx / distance;
                            const forceDirectionY = dy / distance;
                            const force = (mouse.radius - distance) / mouse.radius;
                            
                            this.speedX += forceDirectionX * force * 0.6;
                            this.speedY += forceDirectionY * force * 0.6;
                            
                            // 鼠标附近的粒子变大
                            this.size = this.baseSize + (mouse.radius - distance) / mouse.radius * 3;
                        } else {
                            // 远离鼠标时恢复原始大小
                            if (this.size > this.baseSize) {
                                this.size -= 0.2;
                            }
                        }
                    }
                    
                    // 限制速度
                    this.speedX = Math.max(-2, Math.min(2, this.speedX));
                    this.speedY = Math.max(-2, Math.min(2, this.speedY));
                    
                    // 添加弹性，逐渐减小速度
                    this.speedX *= 0.985;
                    this.speedY *= 0.985;
                }
                
                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    
                    // 添加更明显的光晕效果
                    ctx.shadowColor = this.color;
                    ctx.shadowBlur = 15;
                    ctx.shadowOffsetX = 0;
                    ctx.shadowOffsetY = 0;
                    
                    ctx.fill();
                    ctx.closePath();
                    
                    // 重置阴影
                    ctx.shadowBlur = 0;
                }
            }
            
            // 初始化粒子
            function init() {
                particlesArray = [];
                for (let i = 0; i < numberOfParticles; i++) {
                    particlesArray.push(new Particle());
                }
            }
            
            // 连接粒子 - 改进的连接逻辑
            function connect() {
                for (let a = 0; a < particlesArray.length; a++) {
                    for (let b = a; b < particlesArray.length; b++) {
                        const dx = particlesArray[a].x - particlesArray[b].x;
                        const dy = particlesArray[a].y - particlesArray[b].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        const maxDistance = particlesArray[a].connectionDistance;
                        
                        if (distance < maxDistance) {
                            // 基于距离的透明度计算
                            const opacity = 1 - (distance / maxDistance);
                            ctx.strokeStyle = particlesArray[a].color.replace('0.7', opacity * 0.5);
                            ctx.lineWidth = Math.min(particlesArray[a].size, particlesArray[b].size) * 0.5;
                            
                            ctx.beginPath();
                            ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                            ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                            ctx.stroke();
                            ctx.closePath();
                        }
                    }
                }
            }
            
            // 动画循环
            function animate() {
                requestAnimationFrame(animate);
                
                // 清除画布，但保留半透明效果，产生轻微拖尾
                ctx.fillStyle = 'rgba(248, 250, 252, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // 更新和绘制所有粒子
                for (let i = 0; i < particlesArray.length; i++) {
                    particlesArray[i].update();
                    particlesArray[i].draw();
                }
                
                // 连接粒子
                connect();
            }
            
            // 执行初始化和动画
            init();
            animate();
        });
    </script>
</body>
</html>
